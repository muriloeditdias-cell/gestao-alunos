a<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <!-- PWA / CAPA DO APP -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#000000">
  <link rel="apple-touch-icon" href="logo-192.png">

  <title>Gestão de Alunos</title>

  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

<!-- LOGIN MODAL -->
<div id="loginModal" class="login-modal">
  <div class="login-card">
    <div class="brand">
      <img src="logo.png" alt="Fran Wolf Studio" class="brand-logo" />
      <div class="brand-text">
        <div class="brand-title">Gestão de Alunos</div>
        <div class="brand-sub">Acesso restrito</div>
      </div>
    </div>

    <h2 class="login-title">Entrar</h2>

    <label class="field">
      <span>Email</span>
      <input id="loginEmail" type="email" placeholder="seuemail@..." autocomplete="username" />
    </label>

    <label class="field">
      <span>Senha</span>
      <input id="loginSenha" type="password" placeholder="••••••••" autocomplete="current-password" />
    </label>

    <button class="btn-login" type="button" onclick="login()">Entrar</button>

    <div id="loginError" class="login-error hidden"></div>
  </div>

  <div class="login-support">
    <a class="support-link" href="https://wa.me/5546999053065" target="_blank" rel="noreferrer">
      Suporte • Falar no WhatsApp
    </a>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">
  <div class="app-container">

    <!-- HEADER -->
    <header class="app-header">
      <button class="header-link" onclick="abrirSuporte()">Suporte</button>
      <button class="header-link danger" onclick="logout()">Sair</button>
    </header>

    <!-- TELAS -->
    <main class="screens">

      <!-- ALUNOS -->
      <section id="screen-alunos" class="screen active">
        <h1 class="welcome">
          Bem-vinda<br>
          <span>Franciele</span>
        </h1>

        <!-- LISTA -->
        <div class="section-card">
          <input
            id="busca"
            placeholder="Buscar aluno pelo nome..."
            oninput="listarAlunos()"
          />

          <table>
            <thead>
              <tr>
                <th>Aluno</th>
                <th>Plano</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="lista"></tbody>
          </table>
        </div>
      </section>

      <!-- CADASTRO -->
      <section id="screen-cadastro" class="screen">
        <h2>Novo aluno</h2>

        <div class="form" id="formTopo">
          <input id="nome" placeholder="Nome do aluno" />
          <input id="telefone" placeholder="Telefone (WhatsApp)" />
          <input id="email" placeholder="Email" />
          <input id="cpf" placeholder="CPF" />

          <select id="plano_tipo" class="slot">
            <option value="">Plano</option>
            <option value="mensal">Mensal</option>
            <option value="anual">Anual</option>
          </select>

          <select id="freq_semana" class="slot">
            <option value="">Frequência</option>
            <option value="1">1x / semana</option>
            <option value="2">2x / semana</option>
            <option value="3">3x / semana</option>
            <option value="4">4x / semana</option>
            <option value="5">5x / semana</option>
          </select>

          <input id="valor" type="number" placeholder="Valor" />
          <input id="vencimento" type="date" />
          <input id="observacoes" placeholder="Observações (opcional)" />

          <!-- GRADE (CADASTRO +) -->
<div class="section-card">
  <button class="toggle-grade" type="button" onclick="toggleGrade('cadastro')">
    <span>Grade de horários</span>
    <span id="toggleGradeIconCadastro">▲</span>
  </button>

  <div id="gradeContainerCadastro" class="grade-scroll">
    <div class="grade" id="gradeCadastro"></div>
    <p class="dica">Clique no card para selecionar o horário. Clique em “Ver” para listar alunos do horário.</p>
  </div>
</div>


          <button type="button" onclick="adicionarAluno()">Adicionar</button>

          <div class="agenda-box">
            <div class="agenda-top">
              <div class="agenda-title">Agenda selecionada</div>
              <div class="agenda-status" id="agendaStatus"></div>
            </div>
            <div class="agenda-selecionada" id="agendaSelecionada"></div>
            <div class="agenda-actions">
              <button class="btn danger" type="button" onclick="limparAgenda()">Limpar agenda</button>
            </div>
          </div>
        </div>
      </section>

      <!-- STUDIO -->
      <section id="screen-studio" class="screen center">
        <h2>Em breve…</h2>
      </section>

    </main>

    <!-- MENU -->
    <nav class="bottom-nav">
  <button onclick="trocarTela('alunos')">
    <svg viewBox="0 0 24 24" class="nav-icon">
      <path d="M16 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5C15 14.17 10.33 13 8 13zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
    </svg>
    <span>Alunos</span>
  </button>

  <button class="add" onclick="trocarTela('cadastro')">+</button>

  <button onclick="trocarTela('studio')">
    <svg viewBox="0 0 24 24" class="nav-icon">
      <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
    </svg>
    <span>Studio</span>
  </button>
</nav>


  </div>
</div>

<!-- MODAL PERFIL / HORÁRIO -->
<div id="modal" class="modal hidden" onclick="fecharModalCliqueFora(event)">
  <div class="modal-box" role="dialog" aria-modal="true">
    <div class="modal-head">
      <h2 id="modalTitulo">Perfil</h2>
      <button class="x" onclick="fecharModal()">✕</button>
    </div>
    <div id="modalConteudo"></div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>




